if (!requireNamespace("BiocManager", quietly = TRUE))
    install.packages("BiocManager")

BiocManager::install("MultiAssayExperiment")
BiocManager::install("curatedTCGAData")
BiocManager::install("TCGAutils")
BiocManager::install("pensim")
BiocManager::install("genefilter")
BiocManager::install("logging")
BiocManager::install("survival")
BiocManager::install("GenomicRanges")
BiocManager::install("Biobase")

library(MultiAssayExperiment)
library(curatedTCGAData)
library(TCGAutils)
library(pensim)
library(genefilter)
library(logging)
library(survival)
library(penalized)
library(GenomicRanges)
library(Biobase)

#isolating ovarian data#
OV <- curatedTCGAData::curatedTCGAData("OV", "*", FALSE)
OV

#Extract amplification assay#
data2<- OV[, , "OV_GISTIC_AllByGene-20160128"]
data2

#creating survival dataset 
survdata2<-colData(data2)
survdata2

#assay function
data3<-assay(data2)
data3

#filter data
gene.quant <- apply(data3, 1, quantile, probs=0.75)
dat.filt <- data3[gene.quant>log2(24776), ]
gene.iqr <- apply(dat.filt, 1, IQR)
dat.filt <- as.matrix(dat.filt[gene.iqr>0.5, ])
dat.filt <- t(dat.filt)
dat.filt <- data.frame(dat.filt)

#creating survival object#
library(survival)
surv.obj <- Surv(survdata2$days_to_death, survdata2$vital_status)

library(penalized)

testfit <- optL2(response=surv.obj, penalized=dat.filt, fold=5,  maxlambda1=5, positive=FALSE, standardize=TRUE, trace=FALSE)
#error 
Error in optL2(response = surv.obj, penalized = dat.filt, fold = 5, maxlambda1 = 5, : unused argument (maxlambda1 = 5)
Traceback:

#after removing maxlambda1=5#
testfit <- optL2(response=surv.obj, penalized=dat.filt, fold=5, positive=FALSE, standardize=TRUE, trace=FALSE)
Error in if (is(response, "Surv") && any(as.vector(response) < 0)) stop("negative survival times"): missing value where TRUE/FALSE needed
Traceback:

1. optL2(response = surv.obj, penalized = dat.filt, fold = 5, positive = FALSE, 
 .     standardize = TRUE, trace = FALSE)
2. .checkinput(match.call(), parent.frame())

